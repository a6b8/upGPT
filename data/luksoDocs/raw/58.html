<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-standards/generic-standards/lsp1-universal-receiver-delegate" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">LSP1 - Universal Receiver Delegate | LUKSO Tech Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.lukso.tech/img/lukso-docs-opengraph.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.lukso.tech/img/lukso-docs-opengraph.jpg"><meta data-rh="true" property="og:url" content="https://docs.lukso.tech/standards/generic-standards/lsp1-universal-receiver-delegate"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="LSP1 - Universal Receiver Delegate | LUKSO Tech Documentation"><meta data-rh="true" name="description" content="LSP1 - Universal Receiver Delegate"><meta data-rh="true" property="og:description" content="LSP1 - Universal Receiver Delegate"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.lukso.tech/standards/generic-standards/lsp1-universal-receiver-delegate"><link data-rh="true" rel="alternate" href="https://docs.lukso.tech/standards/generic-standards/lsp1-universal-receiver-delegate" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.lukso.tech/standards/generic-standards/lsp1-universal-receiver-delegate" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://2C4F8KVKCI-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2XGVSVVVD4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2XGVSVVVD4",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="LUKSO Tech Documentation" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.668c9f68.css">
<script src="/assets/js/runtime~main.b6d50f64.js" defer="defer"></script>
<script src="/assets/js/main.63e6131e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="LUKSO Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="LUKSO Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">LUKSO</b></a><a class="navbar__item navbar__link" href="/learn/introduction">Learn</a><a class="navbar__item navbar__link" href="/tools/getting-started">Tools</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/standards/introduction">Standards</a><a class="navbar__item navbar__link" href="/contracts/introduction">Contracts</a><a class="navbar__item navbar__link" href="/networks/mainnet/parameters">Networks</a><a class="navbar__item navbar__link" href="/faq/lukso/general-information">FAQ</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/install-up-browser-extension">UP Browser Extension</a><a href="https://github.com/lukso-network/LIPs/tree/main/LSPs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LSPs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://uploads-ssl.webflow.com/629f44560745074760731ba4/62b200bfe0af12186845519a_LUKSO_Whitepaper_V1-1.pdf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Whitepaper<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/lukso-network/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/standards/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/standards/standard-detection">Standard Detection</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/standards/lsp-background/erc725">LSPs Background</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/standards/generic-standards/lsp1-universal-receiver">Generic Standards</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/generic-standards/lsp1-universal-receiver">LSP1 - Universal Receiver</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/standards/generic-standards/lsp1-universal-receiver-delegate">LSP1 - Universal Receiver Delegate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/generic-standards/lsp14-ownable-2-step">LSP14 - Ownable 2-Step</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/generic-standards/lsp2-json-schema">LSP2 - ERC725Y JSON Schema</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/generic-standards/lsp16-universal-factory">LSP16 - Universal Factory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/generic-standards/lsp17-contract-extension">LSP17 - Contract Extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/generic-standards/lsp20-call-verification">LSP20 - Call Verification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/generic-standards/lsp23-linked-contracts-factory">LSP23 - Linked Contracts Factory</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/standards/universal-profile/introduction">Universal Profiles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/standards/tokens/introduction">Tokens &amp; NFT 2.0</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/standards/relayer-api">📬 Relayer API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/standards/rpc-api">🆙 RPC API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/standards/faq/channel-nonce">❔FAQ</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Generic Standards</span><meta itemprop="position" content="1"></li><li itemscope itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">LSP1 - Universal Receiver Delegate</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>LSP1 - Universal Receiver Delegate</h1>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Standard Document</div><div class="admonitionContent_BuS1"><p><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-1-UniversalReceiver.md#specification-of-the-universalreceiverdelegate" target="_blank" rel="noopener noreferrer">LSP1 - Universal Receiver Delegate</a></p></div></div>
<div class="theme-admonition theme-admonition-success admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Recommendation</div><div class="admonitionContent_BuS1"><p>To better understand this standard, it is well-advised first to check the origin standard <strong><a href="/standards/generic-standards/lsp1-universal-receiver">LSP1-UniversalReceiver</a></strong>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>Once deployed, the code of a smart contract <strong>can not be changed</strong>. However, builders can decide how their smart contracts implement the <a href="/contracts/contracts/LSP0ERC725Account/#universalreceiver"><code>universalReceiver(...)</code></a> function.</p>
<p>Therefore, it is advised not to hardcode how the smart contract should handle and react to specific calls inside the <code>universalReceiver(...)</code> function. Instead, it should delegate this functionality to another external contract. Developers could then customize such contracts to implement a specific logic, that is <strong>changeable anytime</strong> by updating the reference to a new contract in the <code>universalReceiver(..)</code> function.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-does-this-standard-represent-">What does this standard represent ?<a href="#what-does-this-standard-represent-" class="hash-link" aria-label="Direct link to What does this standard represent ?" title="Direct link to What does this standard represent ?">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="specification">Specification<a href="#specification" class="hash-link" aria-label="Direct link to Specification" title="Direct link to Specification">​</a></h3>
<div class="theme-admonition theme-admonition-success admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>recommendation</div><div class="admonitionContent_BuS1"><p>Smart contracts implementing the <a href="#">LSP1-UniversalReceiverDelegate</a> standard SHOULD <strong>register</strong> the <strong><a href="/contracts/interface-ids">LSP1UniversalReceiverDelegate InterfaceId</a> using ERC165</strong>. This way, other contracts can be aware that the contract supports the LSP1-UniversalReceiverDelegate standard.</p></div></div>
<p>This standard defines a contract called <strong>UniversalReceiverDelegate</strong> containing a single function named <code>universalReceiverDelegate(...)</code> that should be called by the <code>universalReceiver(..)</code> function with:</p>
<ul>
<li>
<p>address <code>caller</code> is the address calling the <code>universalReceiver</code> function.</p>
</li>
<li>
<p>uint256 <code>value</code> is the amount of value sent to the <code>universalReceiver</code> function.</p>
</li>
<li>
<p>bytes32 <code>typeId</code>: the typeId passed to the <code>universalReceiver(...)</code> function.</p>
</li>
<li>
<p>bytes <code>data</code>: the data passed to the <code>universalReceiver(...)</code> function.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-delegation-works">How Delegation works<a href="#how-delegation-works" class="hash-link" aria-label="Direct link to How Delegation works" title="Direct link to How Delegation works">​</a></h3>
<p>Delegation in the context of smart contracts implementing the <code>universalReceiver(...)</code> function allows for flexibility in handling specific calls without hardcoding the logic within the primary contract. While the exact implementation of delegation is up to the individual contract, there are some common steps involved in the process.</p>
<p>1- Query the <strong>UniversalReceiverDelegate</strong> address: Typically, the address of the <strong>UniversalReceiverDelegate</strong> contract is stored in the primary contract&#x27;s storage. When the <code>universalReceiver(...)</code> function is called, the address is retrieved to facilitate delegation.</p>
<p>2- Check for LSP1Delegate support: Before making any calls to the UniversalReceiverDelegate contract, it&#x27;s essential to ensure that the contract supports the LSP1Delegate standard. This can be done by checking for the <strong>LSP1UniversalReceiverDelegate InterfaceId</strong> using ERC165.</p>
<p>3- Call the UniversalReceiverDelegate&#x27;s <code>universalReceiverDelegate(..)</code> function: Once LSP1Delegate support is confirmed, the primary contract&#x27;s <code>universalReceiver(...)</code> function can delegate the call to the UniversalReceiverDelegate&#x27;s <code>universalReceiverDelegate(...)</code> function. This allows the primary contract to utilize the logic implemented in the delegate contract.</p>
<p>Delegation can be implemented in various ways, depending on the developer&#x27;s requirements. Some possible delegation strategies include:</p>
<ul>
<li>
<p>Single delegation: The primary contract delegates all calls to a single UniversalReceiverDelegate contract.</p>
</li>
<li>
<p>Multiple delegation: Different calls are delegated to different UniversalReceiverDelegate contracts based on specific conditions, such as the typeId.</p>
</li>
<li>
<p>Mixed delegation: A combination of single and multiple delegation strategies can be used, where some calls are delegated to a single contract, while others are delegated to different contracts based on specific conditions.</p>
</li>
</ul>
<p>In summary, delegation provides a flexible way for smart contracts to handle and react to specific calls, allowing developers to update the logic without altering the primary contract&#x27;s code. This approach is particularly useful when working with the universalReceiver(...) function and implementing the LSP1 standard.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementations">Implementations<a href="#implementations" class="hash-link" aria-label="Direct link to Implementations" title="Direct link to Implementations">​</a></h2>
<p>There are several implementations of the standard. The <strong><a href="/contracts/contracts/LSP1UniversalReceiver/LSP1UniversalReceiverDelegateUP/">LSP1UniversalReceiverDelegateUP</a></strong> contract is one of them and is used as a delegate to the <code>universalReceiver(...)</code> function of <strong>UniversalProfile</strong> contract.</p>
<p>At the moment, this contract allows to:</p>
<ul>
<li>receive and send tokens &amp; vaults</li>
<li>register the data keys representing them according to <strong><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-5-ReceivedAssets.md" target="_blank" rel="noopener noreferrer">LSP5-ReceivedAssets</a></strong> and <strong><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-10-ReceivedVaults.md" target="_blank" rel="noopener noreferrer">LSP10-ReceivedVaults</a></strong> Standards.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="token-transfer-scenario">Token transfer scenario<a href="#token-transfer-scenario" class="hash-link" aria-label="Direct link to Token transfer scenario" title="Direct link to Token transfer scenario">​</a></h3>
<p>One of the possible scenarios is a token transfer between Alice and Bob. Alice wants to transfer a token owned by her Universal Profile to the Universal Profile of her friend Bob.</p>
<p><strong>1.</strong> It calls the <strong><code>transfer(...)</code></strong> function on the token contract.</p>
<p><img loading="lazy" alt="executing transfer function" src="/assets/images/token-transfer-1-292b7a5662f9bf23e857ca1e59d30b2a.jpeg" width="1489" height="671" class="img_ev3q"></p>
<p><strong>2.</strong> The <code>transfer(...)</code> function on the token contract will directly <strong>trigger a hook</strong> that will call the <code>universalReceiver(...)</code> function on both sender and recipient Universal Profiles.</p>
<p><img loading="lazy" alt="token contract hooks calling universalReceiver function" src="/assets/images/token-transfer-2-fb86344d86b78fe3521a377bc1f483a6.jpeg" width="1589" height="629" class="img_ev3q"></p>
<p><strong>3.</strong> 3. If the <strong>UniversalReceiverDelegate</strong> contract is set, it will be called by the <code>universalReceiver(...)</code> function and will execute its custom logic.</p>
<p><img loading="lazy" alt="universalReceiver function calling UniversalReceiverDelegate contract" src="/assets/images/token-transfer-3-52864ea40875fc14675bb5334563f043.jpeg" width="1323" height="755" class="img_ev3q"></p>
<p><strong>4.</strong> The <strong>UniversalReceiverDelegate</strong> of <strong>Universal Profile</strong> allows the transfer and set <strong><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-5-ReceivedAssets.md" target="_blank" rel="noopener noreferrer">LSP5-ReceivedAssets</a></strong> data keys on both Profiles.</p>
<p><img loading="lazy" alt="UniversalReceiverDelegate setting data keys on profile" src="/assets/images/token-transfer-4-8cf627cf6bf721fc68d2601d94b0d4f7.jpeg" width="1261" height="792" class="img_ev3q"></p>
<blockquote>
<p>For the UniversalReceiverDelegate to be able to call setData function on the UniversalProfile, it should be allowed by the logic of the owner through LSP20.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-keys">Data Keys<a href="#data-keys" class="hash-link" aria-label="Direct link to Data Keys" title="Direct link to Data Keys">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lsp1universalreceiverdelegate-singleton">LSP1UniversalReceiverDelegate Singleton<a href="#lsp1universalreceiverdelegate-singleton" class="hash-link" aria-label="Direct link to LSP1UniversalReceiverDelegate Singleton" title="Direct link to LSP1UniversalReceiverDelegate Singleton">​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;LSP1UniversalReceiverDelegate&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;key&quot;: &quot;0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;keyType&quot;: &quot;Singleton&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;valueType&quot;: &quot;address&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;valueContent&quot;: &quot;Address&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lsp1universalreceiverdelegate-mapping">LSP1UniversalReceiverDelegate Mapping<a href="#lsp1universalreceiverdelegate-mapping" class="hash-link" aria-label="Direct link to LSP1UniversalReceiverDelegate Mapping" title="Direct link to LSP1UniversalReceiverDelegate Mapping">​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;LSP1UniversalReceiverDelegate:&lt;bytes32&gt;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;key&quot;: &quot;0x0cfc51aec37c55a4d0b10000&lt;bytes32&gt;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;keyType&quot;: &quot;Mapping&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;valueType&quot;: &quot;address&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;valueContent&quot;: &quot;Address&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-1-UniversalReceiver.md" target="_blank" rel="noopener noreferrer">LUKSO Standards Proposals: LSP1 - Universal Receiver (Standard Specification, GitHub)</a></li>
<li><a href="https://github.com/lukso-network/lsp-universalprofile-smart-contracts/tree/develop/contracts/LSP1UniversalReceiver" target="_blank" rel="noopener noreferrer">LSP1 Universal Receiver: Solidity implementations (GitHub)</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lukso-network/docs/tree/main/docs/standards/generic-standards/lsp1-universal-receiver-delegate.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-10-23T13:56:54.000Z">Oct 23, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/standards/generic-standards/lsp1-universal-receiver"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">LSP1 - Universal Receiver</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/standards/generic-standards/lsp14-ownable-2-step"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">LSP14 - Ownable 2-Step</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#what-does-this-standard-represent-" class="table-of-contents__link toc-highlight">What does this standard represent ?</a><ul><li><a href="#specification" class="table-of-contents__link toc-highlight">Specification</a></li><li><a href="#how-delegation-works" class="table-of-contents__link toc-highlight">How Delegation works</a></li></ul></li><li><a href="#implementations" class="table-of-contents__link toc-highlight">Implementations</a><ul><li><a href="#token-transfer-scenario" class="table-of-contents__link toc-highlight">Token transfer scenario</a></li></ul></li><li><a href="#data-keys" class="table-of-contents__link toc-highlight">Data Keys</a><ul><li><a href="#lsp1universalreceiverdelegate-singleton" class="table-of-contents__link toc-highlight">LSP1UniversalReceiverDelegate Singleton</a></li><li><a href="#lsp1universalreceiverdelegate-mapping" class="table-of-contents__link toc-highlight">LSP1UniversalReceiverDelegate Mapping</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul><div><a class="table-of-contents table-of-contents__link toc-highlight" href="https://github.com/lukso-network/docs/issues/new/choose" target="_blank" rel="noreferrer">Question? Give us feedback →</a></div></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/lukso-network" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/lukso-network/lukso-playground" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playground<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/lukso" target="_blank" rel="noopener noreferrer" class="footer__link-item">StackOverflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/lukso" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/lukso_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://medium.com/lukso" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@LUKSOBlockchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://lukso.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LUKSO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lukso.network/people" target="_blank" rel="noopener noreferrer" class="footer__link-item">Team<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://jobs.lukso.network/jobs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lukso.network/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 LUKSO Blockchain GmbH &mdash; <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2f474a4343406f435a445c4001414a5b58405d44">[email&#160;protected]</a></div></div></div></footer></div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
</html>